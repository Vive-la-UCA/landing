import"./hoisted.Oozc_hRb.js";document.addEventListener("DOMContentLoaded",()=>{const u=document.getElementById("downloadButton"),a=document.getElementById("progressContainer"),c=document.getElementById("progressBar"),o=document.getElementById("progressText"),d=document.getElementById("errorText"),l=document.getElementById("retryButton"),n=document.getElementById("downloadModal"),p=document.querySelector(".modal .close"),m=document.getElementById("instructionsButton");let s=!1;const g=()=>{c.style.width="0%",o.textContent="Descargando... 0%"},i=()=>{if(s)return;s=!0,a.style.display="block",o.style.display="block",d.style.display="none",l.style.display="none",g();const e=new XMLHttpRequest;e.open("GET","apk/ViveLaUCA.apk",!0),e.responseType="blob",e.onprogress=t=>{if(t.lengthComputable){const r=Math.round(t.loaded/t.total*100);c.style.width=`${r}%`,o.textContent=`Descargando... ${r}%`,document.title=`Descargando... ${r}%`}},e.onload=()=>{if(e.status===200){const t=document.createElement("a");t.href=URL.createObjectURL(e.response),t.download="ViveLaUCA.apk",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href),document.title="Descarga completa",o.textContent="Descarga completa",setTimeout(()=>{n.style.display="block"},2e3)}else y(`Error ${e.status}: ${e.statusText}`);s=!1},e.onerror=()=>{y("Error de red. Por favor, intÃ©ntalo de nuevo."),s=!1},e.send()},y=e=>{a.style.display="none",o.style.display="none",d.textContent=e,d.style.display="block",l.style.display="inline-block",n.style.display="none"};u.addEventListener("click",e=>{e.preventDefault(),i()}),l.addEventListener("click",e=>{e.preventDefault(),i()}),p.addEventListener("click",()=>{n.style.display="none"}),m.addEventListener("click",()=>{window.location.href="/Instructions"}),window.addEventListener("click",e=>{e.target==n&&(n.style.display="none")})});
